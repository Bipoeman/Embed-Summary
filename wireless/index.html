<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Chapter 11 - Embeded Summary</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Embeded Summary</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../midterm/" class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../interrupt/" class="nav-link">Chapter 9</a>
                            </li>
                            <li class="nav-item">
                                <a href="../memory/" class="nav-link">Chapter 10</a>
                            </li>
                            <li class="nav-item">
                                <a href="./" class="nav-link active" aria-current="page">Chapter 11</a>
                            </li>
                            <li class="nav-item">
                                <a href="../internet/" class="nav-link">Chapter 12</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../memory/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../internet/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#chapter-11-wireless-communication-bluetooth-and-zigbee" class="nav-link">Chapter 11 Wireless Communication - Bluetooth and ZigBee</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#wireless-preliminary" class="nav-link">Wireless Preliminary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#wireless-network" class="nav-link">Wireless Network</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#protocols" class="nav-link">Protocols</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#bluetooth" class="nav-link">Bluetooth</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#bluetooth-characterisics" class="nav-link">Bluetooth Characterisics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#rn-41-bluetooth-module-with-mbed" class="nav-link">RN-41 Bluetooth Module with MBED</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#zigbee" class="nav-link">ZigBee</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#zigbee-device-types" class="nav-link">Zigbee Device Types</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#xbee-wireless-modules" class="nav-link">XBee Wireless Modules</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#implementing-a-zigbee-link-mbed-to-mbed" class="nav-link">Implementing a Zigbee Link mbed to mbed</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="chapter-11-wireless-communication-bluetooth-and-zigbee">Chapter 11 Wireless Communication - Bluetooth and ZigBee</h1>
<h1 id="wireless-preliminary">Wireless Preliminary</h1>
<p>มันมีสูตร <span class="arithmatex">\(v=f\lambda\)</span> ที่ใช้คำนวนได้ ละก็การใช้ความถี่มีคนคุมอยู่คือ Internation Telecommunication Union โดยจะมีความถี่ในหมวดหมู่ Industrial, Scientific and Medical (ISM) ที่คนทั่วไปสามารถใช้ได้</p>
<p>สัญญาณวิทยุจะมีประโยชน์ก็เมื่อเราสามารถส่งข้อมูลผ่านมันได้แหละครับ เราเรียกขั้นตอนการยัด้อมูลใส้สัญญาณวิทยุนี้ว่า modulation</p>
<p>ซึ่งไอการ Modulation ที่ว่าเนี่ยมันทำให้ความถี่มีการเปลี่ยนแปลงได้ เพราะงั้นมันจะมี Bandwidth ก็คือเป็น<strong>ช่วง</strong>ของความถี่ที่จะรับโดยเครื่องรับ เช่นถ้าเครื่องรับตั้งไว้ให้รับที่ 103MHz (ขึ้นอยู่กับวิธีการ Modulation)ก็จะรับสัญญาณที่ความถี่สูงและต่ำกว่าความถี่ที่ตั้งไว้นิดหน่อย มากน้อยแค่ไหนขึ้นอยู่กับว่า Bandwidth เท่าไหร่</p>
<h1 id="wireless-network">Wireless Network</h1>
<ul>
<li><strong>Personal</strong> Area Network (PAN) อุปกรณ์ที่อยู่ใกล้คน</li>
<li><strong>Local</strong> Area Network (LAN) อุปกรณ์ที่อยู่แค่ในอาคาร</li>
<li><strong>Wide</strong> Area Network (EAN) อุปกรณ์ที่อยู่ทั่วอ่ะ</li>
</ul>
<h1 id="protocols">Protocols</h1>
<p>International Organi<strong>z</strong>ation for Standardi<strong>z</strong>ation (ISO) ได้กำหนด Protocol for Protocols ไว้เป็น <strong>Open Systems Interconnect</strong> หรือ OSI model</p>
<figure align="center">
  <img alt="MCU Architecture" src="../images/osi.svg" width="500" />
  <figcaption>OSI Model</figcaption>
</figure>
<h3 id="protocol-ieee-woring-groups">Protocol - IEEE Woring groups</h3>
<p>IEEE คนกำหนดมาตรฐานให้กับ protocol ต่างๆเกี่ยวกับ network โดยจะขึ้นด้วย <code>802.</code></p>
<table>
<thead>
<tr>
<th>IEEE Woring Group</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>802.3</td>
<td>Ethernet</td>
</tr>
<tr>
<td>802.11</td>
<td>Wireless LAN, including Wi-Fi</td>
</tr>
<tr>
<td>802.15</td>
<td>Wireless PAN</td>
</tr>
<tr>
<td>802.15.1</td>
<td>Bluetooth</td>
</tr>
<tr>
<td>802.15.3</td>
<td>High-rate wireless PAN</td>
</tr>
<tr>
<td>802.15.4</td>
<td>Low-rate wireless PAN, e.g. Zigbee</td>
</tr>
</tbody>
</table>
<h1 id="bluetooth">Bluetooth</h1>
<p>เป็น Digital Radio Protocol ใช้ใน Network แบบ PAN เพื่อใช้สำหรับเชื่อมต่อระหว่างอุปกรณ์กับอุปกรณ์</p>
<h2 id="bluetooth-characterisics">Bluetooth Characterisics</h2>
<table>
<thead>
<tr>
<th>Class</th>
<th>Range</th>
<th>Power</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>100 meters</td>
<td>100mW</td>
</tr>
<tr>
<td>2</td>
<td>10 meters</td>
<td>2.5mW</td>
</tr>
<tr>
<td>3</td>
<td>1 meters</td>
<td>1mW</td>
</tr>
</tbody>
</table>
<p>อุปกรณ์ BT แต่ละตัวมี Unique MAC Address (หรอวะ!!) โดยจะมี Phase การทำงานแบบนี้
1. Discovery ก็คือ Broadcast ข้อมูลตัวเอง ทั้งชื่อและ MAC Address
1. Pairing ก็คือทั้ง Slave และ Master แลกเปลี่ยนข้อมูลว่าการเชื่อมต่อจะเอาไง
1. Connecting ก็คือ Master เป็นคนเปิดจาก Link ที่ได้ Pair กันไว้แล้ว</p>
<h2 id="rn-41-bluetooth-module-with-mbed">RN-41 Bluetooth Module with MBED</h2>
<p>ใช้โมดูล RN-41 ซึ่งเป็น Class 1 ด้วยและก็ต่อกับ Bluetooth ของ โน้ตบุ๊ตได้เลย ส่วนต่อกับ MBED ผ่าน UART Serial เพราะงั้นวิธีใช้ไม่ต่างอะไรกับ Serial เลย</p>
<figure align="center">
  <img alt="MCU Architecture" src="../images/rn41.png" width="500" />
  <figcaption>Bluetooth Module Connection</figcaption>
</figure>
<h1 id="zigbee">ZigBee</h1>
<p>ใช้ Standard <strong>IEEE 802.15.4</strong> ตัวนี้คล้าย Bluetooth ก็คือมีการ Pair กันก่อนเหมือนกันแต่ว่ากินไฟน้อยกว่า ส่งข้อมูลได้น้อยกว่า(มากๆ) และกินไฟน้อย(น้อยชิบหาย) เป้าหมายเขาคือถูกว่า (หราา แพงสัสเลย) ง่ายกว่าและมี Overhead ของ Software น้อยกว่า</p>
<h2 id="zigbee-device-types">Zigbee Device Types</h2>
<ol>
<li>End Device เป็นอุปกรณ์ปลายทาง จะคุยกับแค่ Parent (ที่เป็น Router หรือ Coordinator) ที่ต่ออยู่เท่านั้น</li>
<li>Router ใช้ route traffic ใช้ส่งข้อมูลระหว่าง End Device กับ Coordinator ได้</li>
<li>Coordinator เป็นคนคุมเครือข่าย กำหนด Characteristic ของ Network ด้วย <strong>ไม่มีไม่ได้</strong></li>
</ol>
<h2 id="xbee-wireless-modules">XBee Wireless Modules</h2>
<p>ไอบอร์ดพวกนี้เป็นของ <strong>Digi International</strong></p>
<figure align="center">
  <img alt="MCU Architecture" src="../images/xbee.png" width="500" />
  <figcaption>XBee Module</figcaption>
</figure>
<p>เนื่องจากคอมไม่มี Zigbee ก็ต้องใช้ตัวแปลงอันขวาช่วย เพื่อต่อ Module Zigbee เข้าคอมและจะใช้โปรแกรม XCTU เพื่อ Config XBee Module</p>
<figure align="center">
  <img alt="MCU Architecture" src="../images/xctu.png" width="500" />
  <figcaption>XBee Module</figcaption>
</figure>
<h2 id="implementing-a-zigbee-link-mbed-to-mbed">Implementing a Zigbee Link mbed to mbed</h2>
<figure align="center">
  <img alt="MCU Architecture" src="../images/xbeembed.png" width="500" />
  <figcaption>XBee Module with MBED</figcaption>
</figure>
<p>ต่อเหมือน Bluetooth ใช้หมือน Bluetooth เลย (ถ้าใช้กับคอม)</p>
<p>ที่เหลือขออนุญาต ช่างแม่ม</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
